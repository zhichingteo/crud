(this["webpackJsonpreact-crud"]=this["webpackJsonpreact-crud"]||[]).push([[0],{35:function(e,t,n){},36:function(e,t,n){},66:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(29),s=n.n(a),o=(n(35),n(36),n(8)),l=n.n(o),i=n(16),j=n(10),u=n(11),d=n(13),m=(n(38),n(12)),h=n.n(m),b=n(14),p=n(0);var f=function(){var e=Object(c.useState)(""),t=Object(d.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)([]),s=Object(d.a)(a,2),o=s[0],m=s[1],f=Object(c.useState)({fname:"",lname:"",email:"",phone:"",salary:""}),x=Object(d.a)(f,2),O=x[0],v=x[1],y=O.fname,g=O.lname,E=O.email,N=O.phone,C=O.salary,w=function(e){v(Object(u.a)(Object(u.a)({},O),{},Object(j.a)({},e.target.name,e.target.value)))},S=function(){var e=Object(i.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch("http://localhost:5000/api/v1/employee").then((function(e){return e.json()})).then((function(e){m(e)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){S()}),[]);var k=function(){var e=Object(i.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),t.target.reset(),e.next=4,h.a.post("http://localhost:5000/api/v1/employee",O);case 4:alert("Data Inserted"),S();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsx)("section",{children:Object(p.jsx)("div",{class:"container",children:Object(p.jsxs)("div",{class:"row mt-3",children:[Object(p.jsxs)("div",{class:"col-sm-8",children:[Object(p.jsx)("h4",{class:"text-center  ml-4 mt-4  mb-5",children:"View Records"}),Object(p.jsxs)("div",{class:"input-group mb-4 mt-3",children:[Object(p.jsx)("div",{class:"form-outline",children:Object(p.jsx)("input",{type:"text",id:"form1",onChange:function(e){return r(e.target.value)},class:"form-control",placeholder:"Search Employee Here",style:{backgroundColor:"#ececec"}})}),Object(p.jsx)("button",{type:"button",onClick:function(){alert(n),h.a.get("http://localhost:5000/api/v1/employee/searchRecord/".concat(n)).then((function(e){m(e.data)}))},class:"btn btn-success",children:Object(p.jsx)("i",{class:"fa fa-search","aria-hidden":"true"})})]}),Object(p.jsxs)("table",{class:"table table-hover  table-striped table-bordered ml-4 ",children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Name"}),Object(p.jsx)("th",{children:"Surname"}),Object(p.jsx)("th",{children:"Email"}),Object(p.jsx)("th",{children:"Phone"}),Object(p.jsx)("th",{children:"Salary"}),Object(p.jsx)("th",{children:"Action"})]})}),Object(p.jsx)("tbody",{children:o.map((function(e){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:e.first_name}),Object(p.jsx)("td",{children:e.last_name}),Object(p.jsx)("td",{children:e.email}),Object(p.jsx)("td",{children:e.phone}),Object(p.jsx)("td",{children:e.salary}),Object(p.jsxs)("td",{children:[Object(p.jsxs)("button",{onClick:function(){var t;!0===window.confirm("Do you really want to delete "+e.first_name)&&(t=e.id,h.a.delete("http://localhost:5000/api/v1/employee/".concat(t)).then((function(e){S()})).catch((function(){alert("Error in the Code")})))},children:[" ",Object(p.jsx)("i",{class:"far fa-trash-alt",style:{fontSize:"18px",marginRight:"5px"}})," "]}),Object(p.jsx)(b.b,{class:" mr-2",to:"/EditEmployee/editID/".concat(e.id),children:Object(p.jsx)("i",{class:"fa fa-edit","aria-hidden":"true"})})]})]})}))})]})]}),Object(p.jsx)("div",{class:"col-sm-4",children:Object(p.jsx)("div",{className:"box p-3 mb-3 mt-5",style:{border:"1px solid #d0d0d0"},children:Object(p.jsxs)("form",{onSubmit:k,children:[Object(p.jsx)("h5",{className:"mb-3 ",children:"Insert Employee Records"}),Object(p.jsx)("div",{class:"form-group",children:Object(p.jsx)("input",{type:"text",class:"form-control  mb-4",name:"fname",value:y,onChange:function(e){return w(e)},placeholder:"Enter name",required:""})}),Object(p.jsx)("div",{class:"form-group",children:Object(p.jsx)("input",{type:"text",class:"form-control  mb-4",name:"lname",value:g,onChange:function(e){return w(e)},placeholder:"Enter Surname",required:""})}),Object(p.jsx)("div",{class:"form-group",children:Object(p.jsx)("input",{type:"text",class:"form-control mb-4",name:"email",value:E,onChange:function(e){return w(e)},placeholder:"Enter Email",required:""})}),Object(p.jsx)("div",{class:"form-group",children:Object(p.jsx)("input",{type:"text",class:"form-control mb-4",name:"phone",value:N,onChange:function(e){return w(e)},placeholder:"Enter Phone",required:""})}),Object(p.jsx)("div",{class:"form-group",children:Object(p.jsx)("input",{type:"text",class:"form-control mb-2",name:"salary",value:C,onChange:function(e){return w(e)},placeholder:"Enter Salary",required:""})}),Object(p.jsx)("button",{type:"submit",class:"btn btn-primary btn-block mt-4",children:"Insert Record"})]})})})]})})})},x=n(2),O=function(){var e=Object(x.f)(),t=Object(x.g)().id,n=Object(c.useState)({fname:"",lname:"",email:"",phone:"",salary:""}),r=Object(d.a)(n,2),a=r[0],s=r[1],o=a.fname,m=a.lname,b=a.email,f=a.phone,O=a.salary,v=function(e){s(Object(u.a)(Object(u.a)({},a),{},Object(j.a)({},e.target.name,e.target.value)))};Object(c.useEffect)((function(){g()}),[]);var y=function(){var n=Object(i.a)(l.a.mark((function n(c){return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c.preventDefault(),n.next=3,h.a.put("http://localhost:5000/api/v1/employee/".concat(t),a);case 3:e.push("/");case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),g=function(){fetch("http://localhost:5000/api/v1/employee/".concat(t),{method:"GET"}).then((function(e){return e.json()})).then((function(e){console.log(e),s({id:t,update:!0,fname:e.response[0].first_name,lname:e.response[0].last_name,email:e.response[0].email,phone:e.response[0].phone,salary:e.response[0].salary})})).catch((function(e){return console.log("error",e)}))};return Object(p.jsx)("div",{className:"container",children:Object(p.jsx)("div",{className:"row mt-4",children:Object(p.jsxs)("div",{className:"col-sm-5 col-offset-3 mx-auto shadow p-5",children:[Object(p.jsx)("h4",{className:"text-center mb-4",children:"Edit A employee"}),Object(p.jsxs)("h5",{className:"text-success",children:["Employee ID : ",a.id," "]}),Object(p.jsx)("div",{className:"form-group mb-3",children:Object(p.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter Product Name",name:"fname",value:o,onChange:function(e){return v(e)}})}),Object(p.jsx)("div",{className:"form-group mb-3",children:Object(p.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter Product Price",name:"lname",value:m,onChange:function(e){return v(e)}})}),Object(p.jsx)("div",{className:"form-group mb-3",children:Object(p.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter Product Description",name:"email",value:b,onChange:function(e){return v(e)}})}),Object(p.jsx)("div",{className:"form-group mb-3",children:Object(p.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter Product Description",name:"phone",value:f,onChange:function(e){return v(e)}})}),Object(p.jsx)("div",{className:"form-group mb-3",children:Object(p.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter Product Description",name:"salary",value:O,onChange:function(e){return v(e)}})}),Object(p.jsx)("button",{onClick:y,className:"btn btn-secondary btn-block",children:"Update Employee"})]})})})};var v=function(e){return Object(p.jsx)(b.a,{children:Object(p.jsx)("div",{className:"App",children:Object(p.jsxs)(x.c,{children:[Object(p.jsx)(x.a,{exact:!0,path:"/",component:f}),Object(p.jsx)(x.a,{exact:!0,path:"/EditEmployee/editID/:id",component:O})]})})})};s.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(v,{})}),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.b3d3b33f.chunk.js.map